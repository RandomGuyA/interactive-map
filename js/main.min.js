!function(a,b,c){"use strict";var d="app_name",e=678401;a.app_name=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h)},g.foo_public_method=function(){};a.fn.bind_event=function(a){},g.init()},a.fn.app_name=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.app_name(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="interactive_map_builder",e=298858;a.interactive_map_builder=function(b,c){function f(b){var c="<li style='background-color:"+r(b)+"'></li>";a("#key").append(c)}var g={required:!0},h=this,i=e;h.settings={};var j=a(b),b=b,k=j.data(d+"-opts");h.init=function(){h.settings=a.extend({},g,c,k),console.log("initialised plugin "+d+" -- "+i),t("data/xml/new_counties_wales.svg")},h.foo_public_method=function(){};var l=function(){m("data/csv/all_county_data.csv"),j.find("path").each(function(){var b=.5,c=a.Color("rgb(130,0,0,"+b+")");a(this).attr("style","fill:"+c)})},m=function(b){a.ajax(b).done(function(a){s(a)}).fail(function(a){alert("Error: "+a.responseText)})},n=function(a){for(var b=0;b<a.length;b++)q(a[b]);o()},o=function(){j.append(a("<ul>").attr("id","key")),p(f,100)},p=function(a,b){for(var c=0;c<b;c++)a(c)},q=function(b){var c=b[0],d=parseInt(b[5]),e=a.Color(r(100-parseInt(d)));a("#path"+c).attr("style","fill:"+e)},r=function(a){100===a&&(a=99);var b,c,d;return a<50?(b=Math.floor(255*(a/50)),c=255):(b=255,c=Math.floor(255*((50-a%50)/50))),d=0,"rgb("+b+","+c+","+d+")"},s=function(a){for(var b=a.split(/\r\n|\n/),c=b[0].split(","),d=[],e=1;e<b.length;e++){var f=b[e].split(",");if(f.length==c.length){for(var g=[],h=0;h<c.length;h++)g.push(f[h]);d.push(g)}}console.log(d),n(d)},t=function(b){a.ajax(b).done(function(b){j.html(a(b).find("svg")),l()}).fail(function(a){alert("Error: "+a.responseText)})};a.fn.bind_event=function(a){},h.init()},a.fn.interactive_map_builder=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.interactive_map_builder(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";function d(b,c){console.log(h+" activated"),this.$el=a(b),this.$el.data(h,this),this.defaults={required:!0};var d=this.$el.data(h+"-opts");this.opts=a.extend(this.defaults,c,d),this.init()}var e,f,g,h="plugin name";d.prototype.init=function(){e=this,f=e.$el,g=e.defaults},a.fn.plugin_name=function(a){return this.each(function(){new d(this,a)})}}(jQuery,document,window);